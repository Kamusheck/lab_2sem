# Отчет по лабораторной работе № 21

## по курсу "Фундаментальная информатика"

**Студент группы М80-108Б-23 Исмамлова Камила**

_Работа выполнена_

**Преподаватель: каф. 806 Севастьянов Виктор Сергеевич**

1. **Тема**: Программирование на Shell.
2. **Цель работы**: Реализация скрипта на языке Shell.
3. **Задание (вариант №9)**: Удлинение имён всех файлов , до указанной длины заданным знаком.
4. **Идея, метод, алгоритм решения задачи**:

   - 1)используем структуру key;value, чтобы считать заданные пользователем параметры, если они не задаются, то используются стандартные парматры указанные в самом скрипте(можно изменить). 2) с помощью if fi проверяем наличие файла.3) циклом пробегаемся по всем файлам и удлиняем файлы 

5. **Сценарий выполнения работы**:
   - _План работы:_
     1. Изучить баш скрипты (на хабре, как вариант)
     2. Создаем доп баш скрипты для генерации файлов и для рандомного их наименования
     3. Написать скрипт для считывания параметров
     4. Написать скрипт для удлинения

6. **Протокол**:
   - _Код основной программы:_

```bash
#!/bin/bash

length=10
char=_

for arg in "$@"
do
    key=${arg%%=*}
    value=${arg#*=}
    case $key in
        length) length=$value;;
        ,char) char=$value;;
        *) echo "Неправильно задан параметр"; exit 1;;
    esac
done

if [ "$length" == "" ]; then
    length=10
fi

if [ "$char" == "" ]; then
    char='_'
fi
cd trash
echo "$file"
for file in *; do
        if [ -f "$file" ]; then
                new_name=$file
                while [ ${#new_name} -lt $length ]; do
                        new_name=$new_name$char
                done
                echo "$new_name"
                mv "$file" "$new_name"
        fi
done
echo "length=$length,char=$char"
```
- _Код доп программы для генерации файлов:_
```
#!/bin/bash

if [ "$1" == "" ]; then
    echo "Введите количество файлов для генерации"
    exit 1
fi
names=("trash" "test" "pustota" "n" "tasklab21")
randomname=$((RANDOM % ${#names[@]}))
for ((i = 1; i <= $1; i++));do
        names=("test" "cat" "olivyeshechka" "something_nothing" "pustota" "n" "tasklab21")
        randomname=$((RANDOM % ${#names[@]}))
        touch ${names[$randomname]}
        echo "${names[$randomname]}"
                mv ${names[$randomname]} trash
done
```
- _Код доп программы для удаления файлов:_
```bash
#!/bin/bash

cd trash

rm -rf *
```
- _Примеры запуска:_

```bash
./length_namesh length=15 ,char=*
./length_namesh
./generatesh
./delete_trash.sh
```

7. **Замечания автора** по существу работы: Интересно, однако нужно быть аккуратным с какими файлами и в какой директории будут происходить изменеия

8. **Выводы**: Лабораторная работа интересная и выполнимая. Помогла освежить команды баш, особенно(лично для меня) стало понятнее, как считывать данные, введенные пользователем. Не менее полезным стало написание доп скриптов для генерации и удаление, что помогло автоматизировать выполнение лаборотоной работы.(на что и направлены в принципе все баш-скрипты.)
